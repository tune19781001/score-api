openapi: 3.1.0
info:
  title: ã‚¹ã‚³ã‚¢è©•ä¾¡Bot API
  description: æŠ•è³‡åˆ¤æ–­ã‚¹ã‚³ã‚¢ã‚’è¿”ã™APIã€‚RSI, VIXãªã©ã‚’å…ƒã«ç·åˆã‚¹ã‚³ã‚¢ã¨ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿”ã—ã¾ã™ã€‚
  version: 1.0.0
servers:
  - url: https://score-api-3pbw.onrender.com
paths:
  /score:
    post:
      summary: å¸‚å ´æƒ…å ±ã‹ã‚‰ã‚¹ã‚³ã‚¢è©•ä¾¡ã‚’å–å¾—ã™ã‚‹
      operationId: getScore
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                spy:
                  type: number
                  description: SPYã®å¤‰å‹•ç‡ï¼ˆä¾‹ï¼š1.2ï¼‰
                qqq:
                  type: number
                  description: QQQã®å¤‰å‹•ç‡ï¼ˆä¾‹ï¼š0.8ï¼‰
                vix:
                  type: number
                  description: VIXã®æ•°å€¤ï¼ˆä¾‹ï¼š17.5ï¼‰
                usd_jpy:
                  type: number
                  description: ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆï¼ˆä¾‹ï¼š149.3ï¼‰
                rsi:
                  type: number
                  description: RSIï¼ˆä¾‹ï¼š29.5ï¼‰
                volume_ratio:
                  type: number
                  description: å‡ºæ¥é«˜å€ç‡ï¼ˆä¾‹ï¼š1.6ï¼‰
                ma_break:
                  type: boolean
                  description: ç§»å‹•å¹³å‡ç·šã®ãƒ–ãƒ¬ã‚¤ã‚¯æœ‰ç„¡
                roe:
                  type: number
                  description: ROEï¼ˆä¾‹ï¼š12.0ï¼‰
                profit_margin:
                  type: number
                  description: åˆ©ç›Šç‡ï¼ˆä¾‹ï¼š18.5ï¼‰
              required:
                - spy
                - qqq
                - vix
                - usd_jpy
                - rsi
                - volume_ratio
                - ma_break
                - roe
                - profit_margin
      responses:
        "200":
          description: æ­£å¸¸ã«ã‚¹ã‚³ã‚¢ãŒè¿”ã•ã‚ŒãŸã¨ã
          content:
            application/json:
              schema:
                type: object
                properties:
                  score:
                    type: number
                    description: ç·åˆã‚¹ã‚³ã‚¢
                  comments:
                    type: array
                    description: è©•ä¾¡ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§
                    items:
                      type: string
                  judgment:
                    type: string
                    description: æœ€çµ‚åˆ¤å®šï¼ˆğŸŸ¢ãªã©ï¼‰

  /save_judgment:
    post:
      summary: åˆ¤æ–­çµæœã‚’è¨˜æ†¶ã«ä¿å­˜ã™ã‚‹
      operationId: saveJudgment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                input:
                  type: string
                  description: åˆ¤æ–­ã«ä½¿ã£ãŸè‡ªç„¶æ–‡ï¼ˆä¾‹ï¼šVIXãŒ18ã§RSIãŒ29ã ã£ãŸï¼‰
                result:
                  type: string
                  description: çµæœã¨ã—ã¦å‡ºã—ãŸåˆ¤æ–­ï¼ˆä¾‹ï¼šğŸŸ¢ å¼·æ°—åˆ¤æ–­ï¼‰
              required:
                - input
                - result
      responses:
        "200":
          description: è¨˜éŒ²å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
